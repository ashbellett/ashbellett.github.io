---
layout: default
---

<div class="home">
  {%- if page.title -%}
  <h1 class="page-heading">{{ page.title }}</h1>
  {%- endif -%}
  {{ content }}
  {% assign collections = site.collections | where_exp: "item", "item.label != 'posts'" | sort: "key" %}
  {%- for collection in collections -%}
    <a class="post-link collapsible-header">
      <h2 class="post-list-heading">{{ collection.title }}</h2>
    </a>
    <p class="post-list collapsible-description">{{ collection.description }}</p>
    <ul class="post-list collapsible-content">
      {%- for doc in collection.docs -%}
        <li>
          <h3>
            <a class="post-link" href="{{ doc.url | relative_url }}">
              {{ doc.title | escape}}
            </a>
          </h3>
          {{ doc.description }}
        </li>
      {%- endfor -%}
    </ul>
  {%- endfor -%}
</div>

<style>
  .collapsible-content {
    padding-left: 2rem;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.2s ease-out;
  }
  .collapsible-header:hover {
    cursor: pointer;
  }
</style>

<script>
  const collapsible = document.getElementsByClassName("collapsible-header");
  for (let index = 0; index < collapsible.length; index++) {
    collapsible[index].addEventListener("click", function () {
      this.classList.toggle("active");
      let state = this.classList.value.includes("active")
      let content = this.nextElementSibling.nextElementSibling;
      if (state) {
        content.style.maxHeight = content.scrollHeight + "px";
      } else {
        content.style.maxHeight = 0;
      }
    });
  }
</script>
